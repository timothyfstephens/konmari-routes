<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Konmari::Routes
  
    &mdash; Documentation by YARD 0.9.24
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Konmari::Routes";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Konmari.html" title="Konmari (module)">Konmari</a></span></span>
     &raquo; 
    <span class="title">Routes</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Konmari::Routes
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/konmari/routes.rb<span class="defines">,<br />
  lib/konmari/routes/loader.rb,<br /> lib/konmari/routes/version.rb,<br /> lib/konmari/routes/configuration.rb,<br /> lib/konmari/routes/rails_reloader.rb</span>
</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Routes/Configuration.html" title="Konmari::Routes::Configuration (class)">Configuration</a></span>, <span class='object_link'><a href="Routes/FilenameError.html" title="Konmari::Routes::FilenameError (class)">FilenameError</a></span>, <span class='object_link'><a href="Routes/Loader.html" title="Konmari::Routes::Loader (class)">Loader</a></span>, <span class='object_link'><a href="Routes/RailsReloader.html" title="Konmari::Routes::RailsReloader (class)">RailsReloader</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="VERSION-constant" class="">VERSION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.1.0</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-class_method" title="config (class method)">.<strong>config</strong> {|config| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a routes directory, recursively load all routes.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="config-class_method">
  
    .<strong>config</strong> {|config| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a routes directory, recursively load all routes.</p>

<p>Recursively loads all routes in a directory following this algorithm:</p>
<ol><li>
<p>Load the files in each directory that match PRIORITY_FILES in order listed</p>
</li><li>
<p>Load each directory, opening a *new namespace* matching the directory name,
and start back at step 1</p>
</li><li>
<p>Load all other files in alphabetical order</p>
</li></ol>

<p>Be aware that any routes will be respected in the order they are loaded
Routes files must use extension <code>.routes</code></p>

<p>Example file structure:</p>

<pre class="code ruby"><code class="ruby">|- routes/
|  |- index.routes
|  |- comments.routes
|  |- users/
|     |- index.routes
|     |- friends.routes</code></pre>

<p>Analogous routes definitions</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_application'>application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>
  <span class='comment'># all index routes
</span>  <span class='comment'># all comments routes (likely a resource, *must* have first code line of `resource/namespace :comments`)
</span>  <span class='id identifier rubyid_namespace'>namespace</span> <span class='symbol'>:users</span> <span class='kw'>do</span>
    <span class='comment'># all index routes from `index.routes` file in `users/`
</span>    <span class='comment'># all friends routes from `friends.routes` in `users/`
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>The <code>friends.routes</code> file could then be as simple as:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># routes/users/friends.routes
</span><span class='comment'># NOTE: the resource matches the filename
</span><span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:friends</span><span class='comma'>,</span> <span class='label'>only:</span> <span class='lbracket'>[</span><span class='symbol'>:index</span><span class='comma'>,</span> <span class='symbol'>:create</span><span class='comma'>,</span> <span class='symbol'>:delete</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='symbol'>:my_friends</span> <span class='comment'># or any other options passed to resource(s)
</span></code></pre>

<p>Point being, declaring the namespace is unnecessary.  This gives us the
<em>huge</em> advantage of being able to have our routes files
<em>exactly</em> match the file heirarchy of our controllers.  We also have
the flexibility, through the prioritized files, to add any other routes we
might need without being restrained by the filename constraint.</p>

<p>In your <code>config/routes.rb</code> file, use this method to configure
and then load all routes for the specified application from the provided
folder path.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#config-class_method" title="Konmari::Routes.config (method)">config</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The <span class='object_link'><a href="Routes/Configuration.html" title="Konmari::Routes::Configuration (class)">Configuration</a></span> object used to configure the
application route drawer.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/konmari/routes.rb', line 13</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span>
  <span class='const'><span class='object_link'><a href="Routes/Loader.html" title="Konmari::Routes::Loader (class)">Loader</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Routes/Loader.html#initialize-instance_method" title="Konmari::Routes::Loader#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Routes/Configuration.html" title="Konmari::Routes::Configuration (class)">Configuration</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_config'>config</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Feb  1 19:49:32 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.24 (ruby-2.3.8).
</div>

    </div>
  </body>
</html>